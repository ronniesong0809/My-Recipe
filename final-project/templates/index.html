{% extends "layout.html" %}
{% block content %}

<div style="text-align: center;">

    <button><a href="{{ url_for('home') }}" style="text-decoration: none">Go back to home</a></button>
    <button><a href="{{ url_for('add') }}" style="text-decoration: none">Add a new recipe</a></button>
    <button><a href="{{ url_for('remove') }}" style="text-decoration: none">Remove an exist recipe</a></button>
    <button><a onclick="myFunction();" style="text-decoration: none">Translate to other language</a></button>
</div>

<div id="complex" style="display: none">
    {% for rp in rps %}
    <p class=rp>
        <div class="card">

            <div style="text-align: center;">
                <img src="{{ rp.url }}" alt="Avatar" style="width:50%;" align="middle">
                <p>Labels: {{ rp.url_description }}</p>
            </div>

            <div class="container">
                <table>
                    <tr>
                        <th style="width:10%"><b>Elements</b></td>
                        <th style="width:22.5%"><b>Original Text</b></td>
                        <th style="width:22.5%"><b>Language 1</b></td>
                        <th style="width:22.5%"><b>Language 2</b></td>
                        <th style="width:22.5%"><b>Language 3</b></td>
                    </tr>
                    <tr>
                        <td><b>Title: </b></td>
                        <td>{{ rp.title }}</td>
                        <td>{{ rp.t_title }}</td>
                        <td>{{ rp.t2_title }}</td>
                        <td>{{ rp.t3_title }}</td>
                    </tr>
                    <tr>
                        <td><b>Author: </b></td>
                        <td>{{ rp.author }}</td>
                        <td>{{ rp.t_author }}</td>
                        <td>{{ rp.t2_author }}</td>
                        <td>{{ rp.t3_author }}</td>
                    </tr>
                    <tr>
                        <td><b>Ingredient List: </b></td>
                        <td>{{ rp.ingredient }}</td>
                        <td>{{ rp.t_ingredient }}</td>
                        <td>{{ rp.t2_ingredient }}</td>
                        <td>{{ rp.t3_ingredient }}</td>
                    </tr>
                    <tr>
                        <td><b>Amount of Time: </b></td>
                        <td>{{ rp.time }}</td>
                        <td>{{ rp.t_time }}</td>
                        <td>{{ rp.t2_time }}</td>
                        <td>{{ rp.t3_time }}</td>
                    </tr>
                    <tr>
                        <td><b>Skill Level: </b></td>
                        <td>{{ rp.skill }}</td>
                        <td>{{ rp.t_skill }}</td>
                        <td>{{ rp.t2_skill }}</td>
                        <td>{{ rp.t3_skill }}</td>
                    </tr>
                    <tr>
                        <td><b>Description: </b></td>
                        <td>{{ rp.description }}</td>
                        <td>{{ rp.t_description }}</td>
                        <td>{{ rp.t2_description }}</td>
                        <td>{{ rp.t3_description }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </p>

    {% endfor %}
</div>

<div id="simple">
    {% for rp in rps %}
    <p class=rp>
        <div class="card">

            <div style="text-align: center;">
                <img src="{{ rp.url }}" alt="Avatar" style="width:50%;" align="middle">
                <p>Labels: {{ rp.url_description }}</p>
            </div>

            <div class="container">
                <table>
                    <tr>
                        <th><b>Elements</b></td>
                        <th><b>Original Text</b></td>
                    </tr>
                    <tr>
                        <td><b>Title: </b></td>
                        <td>{{ rp.title }}</td>
                    </tr>
                    <tr>
                        <td><b>Author: </b></td>
                        <td>{{ rp.author }}</td>
                    </tr>
                    <tr>
                        <td><b>Ingredient List: </b></td>
                        <td>{{ rp.ingredient }}</td>
                    </tr>
                    <tr>
                        <td><b>Amount of Time: </b></td>
                        <td>{{ rp.time }}</td>
                    </tr>
                    <tr>
                        <td><b>Skill Level: </b></td>
                        <td>{{ rp.skill }}</td>
                    </tr>
                    <tr>
                        <td><b>Description: </b></td>
                        <td>{{ rp.description }}</td>
                    </tr>
                </table>
            </div>
        </div>
    </p>
    {% endfor %}
</div>

<div id="nutritionix">
    <br>
    <h2>Nutrients:</h2>
    <table width="60%">
        <tr>
            <th></th>
            <th>Qty</th>
            <th>Unit</th>
            <th>Food</th>
            <th>Calories</th>
            <th>Weight</th>
        </tr>
        {% for obj in rp.nutrition.foods %}
        <tr>
            <td style="text-align: center;"><img src='{{obj.photo.thumb}}' alt='{{obj.photo.food_name}}'></td>
            <td> {{obj.serving_qty}} </td>
            <td> {{obj.serving_unit}} </td>
            <td> {{obj.food_name}} </td>
            <td> {{obj.nf_calories}} kcal</td>
            <td> {{obj.serving_weight_grams}} g</td>
        </tr>
        {% endfor %}
    </table>
</div>

<script>
    function myFunction() {
        var x = document.getElementById("complex");
        var y = document.getElementById("simple");
        if (x.style.display === "none") {
            x.style.display = "block";
            y.style.display = "none";
        } else {
            x.style.display = "none";
            y.style.display = "block";
        }
    }
</script>

{% endblock %}